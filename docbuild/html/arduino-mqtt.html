

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arduino Mqtt &mdash; LED Wall 0.9.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="LED Wall 0.9.1 documentation" href="index.html"/>
        <link rel="prev" title="Geometry" href="geometry.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> LED Wall
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Library</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Arduino Mqtt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#init-panel">Init Panel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#byte-position">Byte Position</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#show-panel">Show Panel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Byte Position</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LED Wall</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Arduino Mqtt</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/arduino-mqtt.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="arduino-mqtt">
<h1>Arduino Mqtt<a class="headerlink" href="#arduino-mqtt" title="Permalink to this headline">¶</a></h1>
<p>Sketch to receive commands from an mqtt broker. The different commands are coded by defined bytes in the payload of the mqtt message. The skeatch uses the pubsub library.</p>
<div class="section" id="init-panel">
<h2>Init Panel<a class="headerlink" href="#init-panel" title="Permalink to this headline">¶</a></h2>
<p>Initializes the &#8220;panel&#8221;
If the provided frame number is smaller than the curent frame number,
the operation will be canceled.
If the memory for the leds already has been allocated, the operation
will be canceled.
If the first byte ist not CMD_SHOW, the operation will be canceled.</p>
<div class="section" id="byte-position">
<h3>Byte Position<a class="headerlink" href="#byte-position" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Index</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>Command Byte. must be CMD_SHOW</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>width of the panel. The number of leds per row.</td>
</tr>
<tr class="row-even"><td>2</td>
<td>height of the panel. The number of rows.</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>HIGH byte of the initial frame nr. .</td>
</tr>
<tr class="row-even"><td>4</td>
<td>LOW byte of the initial frame nr.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param cmdbuffer:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Pointer the the byte buffer with the command bytes.</td>
</tr>
<tr class="field-even field"><th class="field-name">type cmdbuffer:</th><td class="field-body">byte*</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">initPanel</span><span class="p">(</span><span class="n">byte</span><span class="o">*</span> <span class="n">cmdbuffer</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="n">length</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="show-panel">
<h2>Show Panel<a class="headerlink" href="#show-panel" title="Permalink to this headline">¶</a></h2>
<p>Updates the LEDs.</p>
<p>If the provided frame number is smaller than the curent frame number,
the operation will be canceled. If length is not 3, operation will be canceled.</p>
<div class="section" id="id1">
<h3>Byte Position<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Index</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>Command Byte. must be CMD_SHOW</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>HIGH byte frame nr to be updated.</td>
</tr>
<tr class="row-even"><td>2</td>
<td>LOW byte frame nr to be updated.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">showPanel</span><span class="p">(</span><span class="n">byte</span><span class="o">*</span> <span class="n">cmdbuffer</span><span class="p">,</span> <span class="n">uint16_t</span> <span class="n">length</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="geometry.html" class="btn btn-neutral" title="Geometry" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, FirstKlaas (find me on GitHub).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>